{"tagline":"JTaches provides a Java way to execute tasks on file events. Mostly inspired by the Guard ruby gem","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Jtaches","body":"JTaches\r\n=======\r\n![](http://dl.dropbox.com/u/4955384/jtaches.png)\r\n\r\nAbout\r\n-----\r\n\r\nJTaches provides a Java way to execute tasks on file events.\r\nMostly inspired by the [Guard](https://github.com/guard/guard/) ruby gem.\r\n\r\nBinaries\r\n--------\r\n\r\nThanks to this Protip: [http://coderwall.com/p/ssuaxa](http://coderwall.com/p/ssuaxa), you can now download a Linux executable and just use it (you still need Java):\r\n\r\n        wget https://github.com/downloads/athieriot/JTaches/jtaches-1.0.0\r\n        chmod +x jtaches-1.0.0\r\n        ./jtaches-1.0.0 -h\r\n\r\nFor all other cases, you can find a JAR pre-compiled with all needed dependencies on the [Sonatype](http://search.maven.org/#search%7Cga%7C1%7Cjtaches) repository:\r\n[jtaches-1.0.0-jar-with-dependencies.jar](http://search.maven.org/remotecontent?filepath=com/github/athieriot/jtaches/1.0.0/jtaches-1.0.0-jar-with-dependencies.jar)\r\n\r\nThen you just need to execute:\r\n\r\n        java -jar jtaches-1.0.0-jar-with-dependencies.jar -h\r\n\r\nExample of shell launcher: [https://github.com/athieriot/JTaches/blob/master/jtaches](https://github.com/athieriot/JTaches/blob/master/jtaches)\r\n\r\nSources\r\n-------\r\n\r\nIf you absolutely want the latest version, you will have to compile JTaches yourself.\r\nDownload the sources via git or directly: https://github.com/athieriot/JTaches/tarball/master\r\n\r\n        mvn clean install\r\n\r\n        ./jtaches -h\r\n        \r\nUsage\r\n-----\r\n\r\n        ./jtaches\r\n\r\nAnd that's it.\r\n\r\nBut you have to provide a configuration file first.\r\nBy default, the program search for **.jtaches.yaml** in the current directory but you can override it from the command line.\r\n\r\n        ./jtaches -file whatever.yaml\r\n\r\nConfiguration\r\n-------------\r\n\r\nThe configuration need to be in Yaml format and the content look like this:\r\n\r\n        - !!com.github.athieriot.jtaches.taches.ScriptTache [{\r\n            path: \".\",\r\n            script: \"notify-send <path>/<file>/<event>\",\r\n        }]\r\n\r\nA list of Taches classes (in classpath) containing a list of properties.\r\nThe syntax is borrow to [SnakeYaml](http://code.google.com/p/snakeyaml/wiki/Documentation) as it is the parser used internally.\r\n\r\nFull example here: [https://github.com/athieriot/JTaches/blob/master/.jtaches.yaml](https://github.com/athieriot/JTaches/blob/master/.jtaches.yaml)\r\n\r\nTaches\r\n------\r\n\r\nFor now, you have access to three Taches:\r\n\r\n+ **com.github.athieriot.jtaches.taches.SysoutTache** : Display envent details in the console.\r\n    - \"path\", the directory to watch\r\n\r\n+ **com.github.athieriot.jtaches.taches.CopyTache** : Copy watched files to another location.\r\n    - \"path\", the directory to watch\r\n    - \"copyTo\", where to copy the files\r\n    - \"makePath\", indicate to create or not the copy path if not exists (optional, default true)\r\n\r\n+ **com.github.athieriot.jtaches.taches.ScriptTache** : Display envent details in the console.\r\n    - \"path\", the directory to watch\r\n    - \"script\", the script to execute (Patterns ```<path>```, ```<file>``` and ```<event>``` while be replaced by real values)\r\n    - \"workingDirectory\", the working dir where to execute the script (optional)\r\n\r\nHack\r\n----\r\n\r\nIf you want to build a Tache, you need to write a new class implementing the Tache interface.\r\nConfiguredTache is just an abstract class made to ease the work.\r\n\r\nInstallation via Maven:\r\n\r\n\r\n        <dependency>\r\n                <groupId>com.github.athieriot</groupId>\r\n                <artifactId>jtaches</artifactId>\r\n                <version>1.0.0</version>\r\n                <scope>test</scope>\r\n        </dependency>\r\n\r\nThen, you have access to five things:\r\n\r\n+ getPath() that you need to implement to provide the path to watch.\r\n+ onCreate(), onDelete() and onModify() which are events callbacks and have to be implemented. See [WatchEvent](http://docs.oracle.com/javase/7/docs/api/java/nio/file/WatchEvent.html).\r\n+ Log is a static logging object from which you have access to info(), debug(), etc... See [Minlog](http://code.google.com/p/minlog/). The default log level in INFO and DEBUG in verbose mode.\r\n\r\nAdditionally if you use ConfiguredTache:\r\n\r\n+ getConfiguration() provide a Map, loaded with the attributes in the Yaml file.\r\n+ ConfiguredTache constructor can take a list of String as second argument to indicate mandatory configuration parameters.\r\n+ You can override additionalValidation(Map<String, String> configuration) to provide custom validation. Method executed after mandatory parameters validation.\r\n\r\nOne thing you have to know with the configuration file is that the Taches are instantiated by SnakeYaml directly.\r\nSo, if you respect the interface and the SnakeYaml documentation, you can override the default constructors to do whatever you want.\r\n\r\nKnown issues\r\n------------\r\n\r\n+ If a watch directory is deleted, the entire watcher service fall: [https://github.com/athieriot/JTaches/issues/16](https://github.com/athieriot/JTaches/issues/16)\r\n","google":""}